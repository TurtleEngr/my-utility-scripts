<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>countdown</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#RETURN-VALUE">RETURN VALUE</a></li>
  <li><a href="#ERRORS">ERRORS</a></li>
  <li><a href="#EXAMPLES">EXAMPLES</a></li>
  <li><a href="#ENVIRONMENT">ENVIRONMENT</a></li>
  <li><a href="#FILES">FILES</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#NOTES">NOTES</a></li>
  <li><a href="#CAVEATS">CAVEATS</a></li>
  <li><a href="#DIAGNOSTICS">DIAGNOSTICS</a></li>
  <li><a href="#BUGS">BUGS</a></li>
  <li><a href="#RESTRICTIONS">RESTRICTIONS</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#HISTORY">HISTORY</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>counter - manage a count up or count down timer for OBS</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>        countdown [-m Min | -s Sec | -E Time [-S Time]] [-i Sec] [-F Format]
                [-f File] [-h] [-H Style] [-l] [-v] [-x] [-T &quot;TestList&quot;]

        Format: S|M|H
        Style: usage, long, man, html, md, int, int-html, int-md
 </code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Use -m and -s to set the duration for the timer. Or use -E to set the end time. -E time is assumed to be in the future, or a time greater than -S.</p>

<p>Only one version of counter can write to File. So there is a check to see if a counter is already running for the specified file. If yes, then that counter process is killed, and the File will be used by the new counter. This is done so that a counter can be run in the background.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="m-Min"><b>-m Min</b></dt>
<dd>

<p>Number of minutes. Default: 0</p>

</dd>
<dt id="s-Sec"><b>-s Sec</b></dt>
<dd>

<p>Number of seconds. Default: 60</p>

</dd>
<dt id="E-Time"><b>-E Time</b></dt>
<dd>

<p>Set the hour, minute time from now. The counter&#39;s duration will be set to number of min:sec until that time. The hour HH must use 24 hour time, or add AM/PM to the time. The Time can be any time that is a valid input to the &quot;date&quot; command (i.e. the --date option).</p>

<p>Setting -E will override any -m and -s settings.</p>

<p>If there is no -S start time, then the counter will end at exactly at the -E time.</p>

<p>See Example section.</p>

</dd>
<dt id="S-Time"><b>-S Time</b></dt>
<dd>

<p>The start time of the -E calculation can be defined. The default is &quot;now&quot;.</p>

<p>If -S is given, then the number of seconds between -S and -E date/times will be use to set the -s option (-m will be 0). Then that will be used to define an internal end time, and the counter will count down to that time.</p>

<p>See Example section.</p>

</dd>
<dt id="i-Sec"><b>-i Sec</b></dt>
<dd>

<p>Interval in seconds. Default: 1</p>

</dd>
<dt id="F-Format"><b>-F Format</b></dt>
<dd>

<p>Format for the counter. Default: M</p>

<pre><code> S - SS
 M - MM:SS
 H - HH:MM:SS</code></pre>

</dd>
<dt id="f-File"><b>-f File</b></dt>
<dd>

<p>File location for the counter. Default: /tmp/counter.tmp</p>

</dd>
<dt id="h"><b>-h</b></dt>
<dd>

<p>Output this &quot;long&quot; usage help. See &quot;-H long&quot;</p>

</dd>
<dt id="H-Style"><b>-H Style</b></dt>
<dd>

<p>Style is used to select the type of help and how it is formatted.</p>

<p>Styles:</p>

<pre><code>        short|usage - Output short usage help as text.
        long|text   - Output long usage help as text.
        man         - Output long usage help as a man page.
        html        - Output long usage help as html.
        md          - Output long usage help as markdown.
        int         - Also output internal documentation as text.
        int-html    - Also output internal documentation as html.
        int-md      - Also output internal documentation as markdown.</code></pre>

</dd>
<dt id="l"><b>-l</b></dt>
<dd>

<p>Send log messages to syslog. Default is to just send output to stderr.</p>

</dd>
<dt id="v"><b>-v</b></dt>
<dd>

<p>Verbose output. Default is is only output (or log) messages with level &quot;warning&quot; and higher.</p>

<p>-v - output &quot;notice&quot; and higher.</p>

<p>-vv - output &quot;info&quot; and higher.</p>

</dd>
<dt id="x"><b>-x</b></dt>
<dd>

<p>Set the gpDebug level. Add 1 for each -x. Or you can set gpDebug before running the script.</p>

<p>See: fLog and fLog2 (Internal documentation)</p>

</dd>
<dt id="T-TestList"><b>-T &quot;TestList&quot;</b></dt>
<dd>

<p>Run the unit test functions in this script.</p>

<p>If TestList is &quot;all&quot;, then all of the functions that begin with &quot;test&quot; will be run. Otherwise &quot;Test&quot; should match the test function names separated with spaces.</p>

<p>If TestList is &quot;com&quot;, then $cBin/bash-com.test will be run to test the bash-com.inc functions.</p>

<p>For more details about shunit2 (or shunit2.1), see shunit2/shunit2-manual.html <a href="https://github.com/kward/shunit2">Source</a></p>

<p>See shunit2, shunit2.1, bash-com.inc, and global: gpUnitDebug</p>

<p>Also for more help, use the &quot;-H int&quot; option.</p>

</dd>
</dl>

<h1 id="RETURN-VALUE">RETURN VALUE</h1>

<h1 id="ERRORS">ERRORS</h1>

<p>Fatal Error: Bad arguments.</p>

<p>Warnings: Another counter was running, it will be stopped.</p>

<h1 id="EXAMPLES">EXAMPLES</h1>

<p>To use countdown, point OBS text to read from the counter file /tmp/counter.tmp or from the file specified with the -f option.</p>

<p>Countdown timer for 2min 13sec. File /tmp/counter.tmp will be use for time remaining.</p>

<pre><code>        countdown -m 2 -s 13</code></pre>

<p>Start a counter in background for 15 min. The start a replacement countdown time for 2 min, before the first one finishes. When the second countdown starts, any running countdowns using file /tmp/counter.tmp will die, before the other countdown starts.</p>

<pre><code>        countdown -m 15 -s 0 &amp;
        sleep 60
        countdown -m 2 -s 0 &amp;</code></pre>

<p>If you need to have two countdowns running at the same time, use two different countdown files.</p>

<pre><code>        countdown -m 15 -s 0 -f /tmp/counter1.tmp &amp;
        countdown -m 2  -s 0 -f /tmp/counter2.tmp &amp;</code></pre>

<p>Start countdown timer to end at 2pm.</p>

<pre><code>        countdown -E 2pm
        countdown -E 14:00</code></pre>

<p>Note: if -S is not set, and the current time is past 2pm, then the end time will be &quot;tomorrow 2pm&quot;</p>

<p>Start countdown timer to end at 11am on 2020-12-06.</p>

<pre><code>        countdown -E &#39;2020-12-06 11am&#39;</code></pre>

<p>Countdown timer. The duration is calculated between the two times specified. To test what dates values are allowed, use the &quot;date --date=&#39;time&#39;&quot; command.</p>

<pre><code>        countdown -S &#39;2020-12-06 11am - 7min - 62sec&#39; -E &#39;2020-12-06 11am&#39;</code></pre>

<p>Get documentation in different formats:</p>

<pre><code>        countdown -H html &gt;countdown.html
        countdown -H int-html &gt;countdown-internal.html</code></pre>

<h1 id="ENVIRONMENT">ENVIRONMENT</h1>

<h1 id="FILES">FILES</h1>

<pre><code> /tmp/counter.tmp</code></pre>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>date</p>

<h1 id="NOTES">NOTES</h1>

<h1 id="CAVEATS">CAVEATS</h1>

<h1 id="DIAGNOSTICS">DIAGNOSTICS</h1>

<h1 id="BUGS">BUGS</h1>

<h1 id="RESTRICTIONS">RESTRICTIONS</h1>

<h1 id="AUTHOR">AUTHOR</h1>

<h1 id="HISTORY">HISTORY</h1>

<p>$Revision: 1.6 $ GMT</p>


</body>

</html>


