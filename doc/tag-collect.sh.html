<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>tag-collect.sh</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME-tag-collect.sh">NAME tag-collect.sh</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#ERRORS">ERRORS</a></li>
  <li><a href="#EXAMPLES">EXAMPLES</a>
    <ul>
      <li><a href="#Example-File:-file1.txt">Example File: file1.txt</a></li>
      <li><a href="#Example-File:-file2.txt">Example File: file2.txt</a></li>
      <li><a href="#Example-command-runs">Example command runs</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#NOTES">NOTES</a>
    <ul>
      <li><a href="#How-to-use-this-script-effectively">How to use this script effectively?</a>
        <ul>
          <li><a href="#To-sift-through-the-tags">To sift through the tags</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#HISTORY">HISTORY</a></li>
</ul>

<hr/>

<h1 id="NAME-tag-collect.sh">NAME tag-collect.sh</h1>

<p>Output file contents based on the desired &quot;tags&quot;</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>        tag-collect.sh -t pTag [-h] [-H pStyle] [-T pTest]
                       pFiles... &gt;OutputFile</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>pTags will be looked for in the list of pFiles. When found the tag line and all lines after it will be listed, until another tag is found or EOF.</p>

<p>Duplicate text in the tag sections will be removed from the output.</p>

<p>See the EXAMPLE section for the example of tags in files.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<dl>

<dt id="t-tag"><b>-t tag</b></dt>
<dd>

<p>Look for {pTag} in the list of Files.</p>

<p>More than one -t option can be used to select any number of tags. There is an implied &quot;or&quot; for multiple -t tags. If you want an &quot;and&quot;, then you will need to repeat tag-collect.sh on the OutputFile for the tags you also want for the items.</p>

</dd>
<dt id="h"><b>-h</b></dt>
<dd>

<p>Output this &quot;long&quot; usage help. See &quot;-H long&quot;</p>

</dd>
<dt id="H-pStyle"><b>-H pStyle</b></dt>
<dd>

<p>pStyle is used to select the type of help and how it is formatted.</p>

<p>Styles:</p>

<pre><code>        short|usage - Output short usage help as text.
        long|text   - Output long usage help as text.
        man         - Output long usage help as a man page.
        html        - Output long usage help as html.
        md          - Output long usage help as markdown.
        int         - Also output internal documentation as text.
        int-html    - Also output internal documentation as html.
        int-md      - Also output internal documentation as markdown.</code></pre>

</dd>
<dt id="T-pTest"><b>-T pTest</b></dt>
<dd>

<p>Run the unit test functions in this script.</p>

<p>&quot;-T all&quot; will run all of the functions that begin with &quot;test&quot;. Otherwise &quot;pTest&quot; should match the test function names separated with spaces (between quotes).</p>

<p>&quot;-T com&quot; will run all the tests for bash-com.inc</p>

<p>For more details about shunit2 (or shunit2.1), see shunit2/shunit2-manual.html <a href="https://github.com/kward/shunit2">Source</a></p>

<p>See shunit2, shunit2.1</p>

<p>Also for more help, use the &quot;-H int&quot; option.</p>

</dd>
</dl>

<h1 id="ERRORS">ERRORS</h1>

<p>Fatal Errors:</p>

<p>* Missing -t option.</p>

<p>* A pFile does not exist</p>

<h1 id="EXAMPLES">EXAMPLES</h1>

<h2 id="Example-File:-file1.txt">Example File: file1.txt</h2>

<pre><code>    This text is ignored.
    {tag1}
    Testing 123
    {tag2}
    Testing 456
       </code></pre>

<h2 id="Example-File:-file2.txt">Example File: file2.txt</h2>

<pre><code>    This text is ignored.
    {tag5}
    Test-5
    {tag3} {tag1}
    Testing 789
    {tag1}
    Testing 123
    {tag3}
    Testing 123
    {tag4}
    Testing 1010
    {tagend}
    extra text
    </code></pre>

<h2 id="Example-command-runs">Example command runs</h2>

<pre><code>    $ tag-collect-sh -t tag1 file[12].txt
    {tag1}
    Testing 123
    {tag3} {tag1}
    Testing 789

    $ tag-collect-sh -t tag1 -t tag3  file[12].txt
    {tag1}
    Testing 123
    {tag3} {tag1}
    Testing 789</code></pre>

<p>Notice how the only one {tag1} text section is output, even though it is in different files. Duplicate section text is not output (the tags are ignored when looking for duplicates). Also the {tag3} {tag1} could have been output twice, but only one copy is output.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>shunit2.1 bash-com.inc bash-com.test</p>

<h1 id="NOTES">NOTES</h1>

<h2 id="How-to-use-this-script-effectively">How to use this script effectively?</h2>

<p>* Define a common tag that will be on all items.</p>

<p>* Put more than one tag on the different item parts in a text file.</p>

<p>* Since a new tag will end a tag block, be sure to have some tag after the last tag, or the last tag will take all text until the end of the file.</p>

<p>* Ideally the tags should be on a line of their own, no other text.</p>

<p>* Note: Anything between {} on a line, will be concidered a tag, so don&#39;t use {} in the &quot;item&quot; text.</p>

<h3 id="To-sift-through-the-tags">To sift through the tags</h3>

<p>* Start with the the most general categories. Include all files, but select with only one tag, and put those items into separate files.</p>

<p>* For each of the top category files, use other sub tags to create the sub-category files.</p>

<p>* There will likely be duplicate items, so to remove them, use the common tag to select the items, putting the list of category and sub-category files in the desired order on the command line. Duplicate items will removed, and only the first item found will be in the final output.</p>

<h1 id="HISTORY">HISTORY</h1>

<p>GPLv3 (c) Copyright 2022</p>

<p>$Revision: 1.6 $ $Date: 2022/12/20 01:56:59 $ GMT</p>


</body>

</html>


